(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{1078:function(e,t,s){Promise.resolve().then(s.bind(s,4618))},4618:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(7437),a=s(7648),l=s(2660),n=s(3113),i=s(7689),o=s(8736),c=s(2265),d=s(9376);let m=[{name:"outlier_google_cloud_vision_f63d0f9fcef3.png",path:"/dummy_files/outlier_google_cloud_vision_f63d0f9fcef3.png"},{name:"outlier_google_cloud_vision_103b1738ef10.png",path:"/dummy_files/outlier_google_cloud_vision_103b1738ef10.png"},{name:"outlier_google_cloud_vision_8abb9fc11ee9.png",path:"/dummy_files/outlier_google_cloud_vision_8abb9fc11ee9.png"}];function x(){let e=(0,d.useRouter)(),[t,s]=(0,c.useState)(""),[x,u]=(0,c.useState)("bom_extraction_v1"),[h,p]=(0,c.useState)([]),[g,b]=(0,c.useState)([]),f=e=>{p(h.filter((t,s)=>s!==e))},y=e=>{g.includes(e)?b(g.filter(t=>t!==e)):b([...g,e])},j=t=>{let s=Math.random().toString(36).substring(7);t?(alert("ジョブを下書きとして保存しました"),e.push("/bom")):(alert("ジョブを実行中です..."),e.push("/bom/".concat(s)))},N=h.length+g.length,v=t&&N>0;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(a.default,{href:"/bom",className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,r.jsx)(l.Z,{className:"w-6 h-6"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"新しいBOMジョブを作成"})]})})}),(0,r.jsx)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-card shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ジョブ名 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"例: 製品A - BOM抽出",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ワークフロー ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("select",{value:x,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,r.jsx)("option",{value:"assy_bom_auto",children:"組立図BOM自動生成"}),(0,r.jsx)("option",{value:"part_bom_auto",children:"部品図BOM自動生成"}),(0,r.jsx)("option",{value:"electrical_bom_auto",children:"電気部品表自動生成"}),(0,r.jsx)("option",{value:"pcb_bom_auto",children:"基板部品表自動生成"}),(0,r.jsx)("option",{value:"multi_level_bom",children:"階層BOM自動生成"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"図面の種類や構成に応じたワークフローを選択してください"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ファイルをアップロード ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[(0,r.jsx)(n.Z,{className:"w-4 h-4"}),"サンプルファイルを使用（デモ用）"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-2",children:m.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-white rounded border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("input",{type:"checkbox",checked:g.includes(e.path),onChange:()=>y(e.path),className:"w-4 h-4 text-primary rounded focus:ring-2 focus:ring-primary"}),(0,r.jsx)(n.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700 flex-1",children:e.name})]},e.path))})]}),(0,r.jsxs)("div",{onDrop:e=>{e.preventDefault(),p([...h,...Array.from(e.dataTransfer.files)])},onDragOver:e=>e.preventDefault(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer",children:[(0,r.jsx)("input",{type:"file",multiple:!0,onChange:e=>{e.target.files&&p([...h,...Array.from(e.target.files)])},className:"hidden",id:"file-upload",accept:".pdf,.png,.jpg,.jpeg,.xlsx,.xls"}),(0,r.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,r.jsx)(i.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"または、ファイルをドラッグ&ドロップ、クリックして選択"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"対応形式: PDF, PNG, JPG, Excel（最大10ファイル、各100MB）"})]})]}),h.length>0&&(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["アップロード予定のファイル (",h.length,"件)"]}),h.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e.name}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["(",(e.size/1024/1024).toFixed(2)," MB)"]})]}),(0,r.jsx)("button",{onClick:()=>f(t),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"削除"})]},t))]}),N>0&&(0,r.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:["合計: ",N,"ファイル選択中"]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"カスタムフィールド（任意）"}),(0,r.jsx)("button",{className:"text-sm text-primary hover:text-blue-700 font-medium",children:"+ カスタムフィールドを追加"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"BOM表に追加の列を定義できます（例: メーカー名、納期など）"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,r.jsx)(a.default,{href:"/bom",className:"px-4 py-2 text-gray-700 font-medium hover:text-gray-900 transition-colors",children:"キャンセル"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{disabled:!v,onClick:()=>j(!0),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-button font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"下書きとして保存"}),(0,r.jsx)("button",{disabled:!v,onClick:()=>j(!1),className:"px-6 py-2 bg-primary text-white rounded-button font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"アップロードして実行"})]})]}),!v&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-4 text-right",children:"ジョブ名とファイルを入力してください"})]})})]})}},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8736:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3113:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},7689:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[216,971,117,744],function(){return e(e.s=1078)}),_N_E=e.O()}]);